// 
// Decompiled by Procyon v0.5.36
// 

package Lavish.modules.exploit;

import net.minecraft.network.Packet;
import java.util.ArrayList;
import net.minecraft.network.play.client.C01PacketChatMessage;
import Lavish.event.events.EventPacket;
import Lavish.event.Event;
import Lavish.modules.Category;
import Lavish.modules.Module;

public class ChatBypass extends Module
{
    public ChatBypass() {
        super("ChatBypass", 0, true, Category.Exploit, "Lets you say things freely");
    }
    
    @Override
    public void onEvent(final Event e) {
        if (ChatBypass.mc.thePlayer == null) {
            return;
        }
        if (e instanceof EventPacket && ((EventPacket)e).isSending()) {
            final EventPacket event = (EventPacket)e;
            final Packet<?> packet = (Packet<?>)event.getPacket();
            if (packet instanceof C01PacketChatMessage) {
                final C01PacketChatMessage p = (C01PacketChatMessage)event.getPacket();
                if (p.getMessage().contains("/")) {
                    return;
                }
                String finalmsg = "";
                final ArrayList<String> splitshit = new ArrayList<String>();
                final String[] msg = p.getMessage().split(" ");
                for (int i = 0; i < msg.length; ++i) {
                    final char[] characters = msg[i].toCharArray();
                    for (int i2 = 0; i2 < characters.length; ++i2) {
                        splitshit.add(String.valueOf(characters[i2]) + "\u058f");
                    }
                    splitshit.add(" ");
                }
                for (int i = 0; i < splitshit.size(); ++i) {
                    finalmsg = String.valueOf(finalmsg) + splitshit.get(i);
                }
                p.setMessage(finalmsg.replaceFirst("%", ""));
                splitshit.clear();
            }
        }
    }
}
